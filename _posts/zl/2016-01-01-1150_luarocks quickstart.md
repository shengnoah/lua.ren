---
layout: post
title: luarocks quickstart 
tags: [lua文章]
categories: [topic]
---
<div class="entry">
      
      
        <p>Here is the <a href="https://luarocks.org/" target="_blank" rel="external noopener noreferrer">official website of LuaRocks</a>. LuaRocks is the package manager for Lua moduels, which means that we can use it to install or uninstall some specific Lua libraries like LuaMySQL and LuaMongoDB.</p>
<p>Below is the tutorial to install LuaRocks.</p>
<h2 id="Install-LuaRocks"><a href="#Install-LuaRocks" class="headerlink" title="Install LuaRocks"></a>Install LuaRocks</h2><p>Here we use Centos 7. We will install LuaRocks through command lines as follows (Here is <a href="https://luarocks.org/#quick-start" target="_blank" rel="external noopener noreferrer">official tutorial</a>):<br/></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/></pre></td><td class="code"><pre><span class="line">wget https://luarocks.org/releases/luarocks-2.4.1.tar.gz</span><br/><span class="line">tar zxpf luarocks-2.4.1.tar.gz</span><br/><span class="line"><span class="built_in">cd</span> luarocks-2.4.1</span><br/><span class="line">./configure</span><br/><span class="line">sudo make bootstrap</span><br/></pre></td></tr></tbody></table></figure><p></p>
<p>Now execute this command:<br/></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/></pre></td><td class="code"><pre><span class="line">luarocks</span><br/></pre></td></tr></tbody></table></figure><p></p>
<p>If everythings goes well, we can similar output as below:<br/></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/><span class="line">24</span><br/><span class="line">25</span><br/><span class="line">26</span><br/><span class="line">27</span><br/><span class="line">28</span><br/><span class="line">29</span><br/><span class="line">30</span><br/><span class="line">31</span><br/></pre></td><td class="code"><pre><span class="line"></span><br/><span class="line">LuaRocks 2.4.1, a module deployment system <span class="keyword">for</span> Lua</span><br/><span class="line"></span><br/><span class="line">NAME</span><br/><span class="line">        /usr/<span class="built_in">local</span>/bin/luarocks - LuaRocks main <span class="built_in">command</span>-line interface</span><br/><span class="line"></span><br/><span class="line">SYNOPSIS</span><br/><span class="line">        /usr/<span class="built_in">local</span>/bin/luarocks [--from=&lt;server&gt; | --only-from=&lt;server&gt;] [--to=&lt;tree&gt;] [VAR=VALUE]... &lt;<span class="built_in">command</span>&gt; [&lt;argument&gt;] </span><br/><span class="line"></span><br/><span class="line">GENERAL OPTIONS</span><br/><span class="line">        These apply to all commands, as appropriate:</span><br/><span class="line"></span><br/><span class="line">        --server=&lt;server&gt;      Fetch rocks/rockspecs from this server</span><br/><span class="line">                               (takes priority over config file)</span><br/><span class="line">        --only-server=&lt;server&gt; Fetch rocks/rockspecs from this server only</span><br/><span class="line">                               (overrides any entries <span class="keyword">in</span> the config file)</span><br/><span class="line">        --only-sources=&lt;url&gt;   Restrict downloads to paths matching the</span><br/><span class="line">                               given URL.</span><br/><span class="line">        --tree=&lt;tree&gt;          Which tree to operate on.</span><br/><span class="line">        --local                Use the tree <span class="keyword">in</span> the user<span class="string">&#39;s home directory.</span><br/><span class="line">                               To enable it, see &#39;</span>/usr/<span class="built_in">local</span>/bin/luarocks <span class="built_in">help</span> path<span class="string">&#39;.                     </span><br/><span class="line">        --verbose              Display verbose output of commands executed.                               </span><br/><span class="line">        --timeout=&lt;seconds&gt;    Timeout on network operations, in seconds.                                 </span><br/><span class="line">                               0 means no timeout (wait forever).                                         </span><br/><span class="line">                               Default is 30.                                                             </span><br/><span class="line">                                                                                                          </span><br/><span class="line">VARIABLES                                                                                                 </span><br/><span class="line">        Variables from the &#34;variables&#34; table of the configuration file                                    </span><br/><span class="line">        can be overriden with VAR=VALUE assignments. </span><br/><span class="line"></span><br/><span class="line">...</span></span><br/></pre></td></tr></tbody></table></figure><p></p>
<hr/>

<h2 id="Install-LuaSocket"><a href="#Install-LuaSocket" class="headerlink" title="Install LuaSocket"></a>Install LuaSocket</h2><p>Now we will try to install LuaSocket through LuaRocks. Note that we may need to use sudo command but luarocks may not be identified by sudo. In that case, we can use root user to execute luarocks command:<br/></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/></pre></td><td class="code"><pre><span class="line">su root</span><br/><span class="line">luarocks install luasocket</span><br/></pre></td></tr></tbody></table></figure><p></p>
<p>To check that luasocket whether is installed successfully or not, we can enter lua shell and type:<br/></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/></pre></td><td class="code"><pre><span class="line">require <span class="string">&#34;socket&#34;</span></span><br/></pre></td></tr></tbody></table></figure><p></p>
<p>The output returned by command should be similar as follows:<br/></p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/></pre></td><td class="code"><pre><span class="line">&gt; require <span class="string">&#34;socket&#34;</span></span><br/><span class="line">table: 0x1<span class="built_in">cd</span>8060</span><br/></pre></td></tr></tbody></table></figure><p></p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href="javascript:void(0)" class="share-link bdsharebuttonbox" data-cmd="more">Share</a>
        </div>
        
        
  
  

        
      <div class="clearfix"></div>
    </footer>