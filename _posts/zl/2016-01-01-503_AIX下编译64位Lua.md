---
layout: post
title: AIX下编译64位Lua 
tags: [lua文章]
categories: [topic]
---
Lua是一个非常有名的脚本语言，是使用标准C编写而成的，目前官方提供了其在众多平台下的编译的`Makefile`文件，非常强大！

支持编译的平台有`aix ansi bsd freebsd generic linux macosx mingw posix solaris`

我在AIX下小试了一下，非常顺利地就编译通过了。

不过默认编译出来的是32位的，其库文件不能被64位的程序调用，需要修改一下其`Makefile`文件，就可以编译出64位版本。

修改`Makefile`需要考虑其原有的结构，不影响其他平台下的命令的执行。

故此，编辑`Makefile`：

    
    
    cd lua-5.2.2/src
    vi Makefile
    

修改其中`aix`小节如下：

    
    
    aix:
        $(MAKE) $(ALL) CC="xlc -q64" AR="ar -X64 rcu" CFLAGS="-O2 -DLUA_USE_POSIX -DLUA_USE_DLOPEN" SYSLIBS="-ldl" SYSLDFLAGS="-brtl -bexpall"
    

编译出来的目标文件就是64位的了！

后面我们会介绍如何在[`hp-ux`](../../07/18/hp-ux-lua-64.html)环境下编译Lua源码。

上一篇: [Junit4测试类中测试方法的执行顺序](/blog/2013/06/02/junit-test-execution-order.html
"Junit4测试类中测试方法的执行顺序")

下一篇: [AIX下编译redis代码](/blog/2013/06/21/aix-redis.html "AIX下编译redis代码") 下一篇:
[AIX下编译redis代码](/blog/2013/06/21/aix-redis.html "AIX下编译redis代码")

[ 作者： 唐 治 ](/authors/tangzhi/) [ 文章 32 ](/authors/tangzhi/) 浏览量

[ 博文推荐 ]() [ [ Blog介绍 ](/blog/2018/06/20/first-bolg.html)  
[黄文峰](/authors/wfhuang/) 2018.06.20 ]() [ [ Spark基础简易教程(Scala)
](/blog/2018/06/08/spark-basic.html)  
[申斌](/authors/shenbin/) 2018.06.08 ]() [ [ 阿里云服务上Elasticsearch的安装及简单使用（三）
](/blog/2018/06/08/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E4%B8%8AElasticsearch%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8-%E4%B8%89.html)  
[陈龙](/authors/chenlong/) 2018.06.08 ]() [ [ 阿里云服务上Elasticsearch的安装及简单使用（二）
](/blog/2018/06/06/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E4%B8%8AElasticsearch%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8-%E4%BA%8C.html)  
[陈龙](/authors/chenlong/) 2018.06.06 ]() [ [ 阿里云服务上Elasticsearch的安装及简单使用（一）
](/blog/2018/06/05/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E4%B8%8AElasticsearch%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8-%E4%B8%80.html)  
[陈龙](/authors/chenlong/) 2018.06.05 ]()