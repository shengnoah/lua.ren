---
layout: post
title: LeetCode 150. Evaluate Reverse Polish Notation 
tags: [lua文章]
categories: [topic]
---
<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>根据逆波兰表示法（后缀表达式），求表达式的值。</p>
<p>有效的运算符包括 +, -, *, / 。每个运算对象可以是整数，也可以是另一个逆波兰表达式。</p>
<p>说明：</p>
<p>整数除法只保留整数部分。<br/>给定逆波兰表达式总是有效的。换句话说，表达式总会得出有效数值且不存在除数为 0 的情况。</p>
<h3 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h3><p>基本计算器题 栈</p>
<h3 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/></pre></td><td class="code"><pre><span class="line">输入: [&#34;10&#34;, &#34;6&#34;, &#34;9&#34;, &#34;3&#34;, &#34;+&#34;, &#34;-11&#34;, &#34;*&#34;, &#34;/&#34;, &#34;*&#34;, &#34;17&#34;, &#34;+&#34;, &#34;5&#34;, &#34;+&#34;]</span><br/><span class="line">输出: 22</span><br/><span class="line">解释: </span><br/><span class="line">  ((10 * (6 / ((9 + 3) * -11))) + 17) + 5</span><br/><span class="line">= ((10 * (6 / (12 * -11))) + 17) + 5</span><br/><span class="line">= ((10 * (6 / -132)) + 17) + 5</span><br/><span class="line">= ((10 * 0) + 17) + 5</span><br/><span class="line">= (0 + 17) + 5</span><br/><span class="line">= 17 + 5</span><br/><span class="line">= 22</span><br/><span class="line"></span><br/><span class="line">来源：力扣（LeetCode）</span><br/><span class="line">链接：https://leetcode-cn.com/problems/evaluate-reverse-polish-notation</span><br/><span class="line">著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。输入: [&#34;10&#34;, &#34;6&#34;, &#34;9&#34;, &#34;3&#34;, &#34;+&#34;, &#34;-11&#34;, &#34;*&#34;, &#34;/&#34;, &#34;*&#34;, &#34;17&#34;, &#34;+&#34;, &#34;5&#34;, &#34;+&#34;]</span><br/><span class="line">输出: 22</span><br/><span class="line">解释: </span><br/><span class="line">  ((10 * (6 / ((9 + 3) * -11))) + 17) + 5</span><br/><span class="line">= ((10 * (6 / (12 * -11))) + 17) + 5</span><br/><span class="line">= ((10 * (6 / -132)) + 17) + 5</span><br/><span class="line">= ((10 * 0) + 17) + 5</span><br/><span class="line">= (0 + 17) + 5</span><br/><span class="line">= 17 + 5</span><br/><span class="line">= 22</span><br/></pre></td></tr></tbody></table></figure>
<hr/>
<h3 id="算法1"><a href="#算法1" class="headerlink" title="算法1"></a>算法1</h3><h5 id="栈-O-n"><a href="#栈-O-n" class="headerlink" title="(栈)  O(n)"></a>(栈)  O(n)</h5><h5 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h5><p>一正一负取整时，先转换成都是正或都是负的情况，再加上符号。</p>
<h5 id="复杂度分析："><a href="#复杂度分析：" class="headerlink" title="复杂度分析："></a>复杂度分析：</h5><h5 id="python-代码"><a href="#python-代码" class="headerlink" title="python 代码"></a>python 代码</h5><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/><span class="line">24</span><br/><span class="line">25</span><br/><span class="line">26</span><br/><span class="line">27</span><br/><span class="line">28</span><br/><span class="line">29</span><br/></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> :</span></span><br/><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">evalRPN</span><span class="params">(self, tokens: List[str])</span> -&gt; int:</span></span><br/><span class="line">        stack = []</span><br/><span class="line">        operations = {<span class="string">&#39;+&#39;</span>, <span class="string">&#39;-&#39;</span>, <span class="string">&#39;*&#39;</span>, <span class="string">&#39;/&#39;</span>}</span><br/><span class="line">        </span><br/><span class="line">        <span class="keyword">for</span> token <span class="keyword">in</span> tokens:</span><br/><span class="line">            </span><br/><span class="line">            <span class="keyword">if</span> token <span class="keyword">in</span> operations:</span><br/><span class="line">                right = stack.pop()</span><br/><span class="line">                left = stack.pop()</span><br/><span class="line">                </span><br/><span class="line">                <span class="keyword">if</span> token == <span class="string">&#39;+&#39;</span>:</span><br/><span class="line">                    temp = left + right</span><br/><span class="line">                <span class="keyword">elif</span> token == <span class="string">&#39;-&#39;</span>:</span><br/><span class="line">                    temp = left - right</span><br/><span class="line">                <span class="keyword">elif</span> token == <span class="string">&#39;*&#39;</span>:</span><br/><span class="line">                    temp = left * right</span><br/><span class="line">                <span class="keyword">else</span>:</span><br/><span class="line">                    <span class="keyword">if</span> left * right &gt;= <span class="number">0</span>:</span><br/><span class="line">                        temp = left // right</span><br/><span class="line">                    <span class="keyword">else</span>:</span><br/><span class="line">                        temp = -(-left // right)</span><br/><span class="line">                    </span><br/><span class="line">                stack.append(temp)</span><br/><span class="line">                </span><br/><span class="line">            <span class="keyword">else</span>:</span><br/><span class="line">                stack.append(int(token))</span><br/><span class="line">        </span><br/><span class="line">        <span class="keyword">return</span> stack[<span class="number">0</span>]</span><br/></pre></td></tr></tbody></table></figure>