---
layout: post
title: Lua 笔记 
tags: [lua文章]
categories: [topic]
---
<h2 id="词法约定"><a href="#词法约定" class="headerlink" title="词法约定"></a>词法约定</h2><p>变量是以字母或下划线开头的字母下划线数字序列，不要使用下划线加大写字母的标识符，因为Lua的保留字是这种形式<br/>Lua的保留字：</p>
<table>
<thead>
<tr>
<th>and</th>
<th>break</th>
<th>do</th>
<th>else</th>
<th>elseif</th>
</tr>
</thead>
<tbody>
<tr>
<td>end</td>
<td>false</td>
<td>for</td>
<td>function</td>
<td>if</td>
</tr>
<tr>
<td>in</td>
<td>local</td>
<td>nil</td>
<td>not</td>
<td>or</td>
</tr>
<tr>
<td>repeat</td>
<td>return</td>
<td>then</td>
<td>true</td>
<td>until</td>
</tr>
<tr>
<td>while</td>
</tr>
</tbody>
</table>
<p>在Lua中大小写敏感，如and是保留字，And和AND则不是保留字</p>
<h2 id="代码规范"><a href="#代码规范" class="headerlink" title="代码规范"></a>代码规范</h2><p>Lua 的多条语句之间并不要求任何分隔符， 如 C 语言的分号(;)， 其中换行符也同样不能起到语句分隔的<br/>作用</p>
<p>Lua的注释有两种：单行注释，使用两个减号（–）开头就行了<br/></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">--单行注释</div></pre></td></tr></tbody></table></figure><p></p>
<p>多行注释，两个减号（–）后面紧跟两个正中括弧（[[），后面就是注释语句，结束时减减（–）紧跟两个反中括弧（]]）<br/></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">--[[我是</div><div class="line">跨行注</div><div class="line">释语</div><div class="line">句</div><div class="line">--]]</div></pre></td></tr></tbody></table></figure><p></p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>Lua中分全局变量和局部变量。<br/>默认创建的就是全局变量，访问一个没有初始化的全局变量是不会出错的，只不过结果是 <strong>nil</strong> ，这就相当于 <strong>null</strong>，想要删除一个全局变量时，将其赋值为nil就行了。<br/>局部变量要通过 <strong>local</strong> 进行声明，局部变量只在声明的代码块中有效<br/></p><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">local m = 9</div><div class="line">if m&lt;=10 then</div><div class="line">	local m = 5</div><div class="line">	print(m)</div><div class="line">end</div></pre></td></tr></tbody></table></figure><p></p>
<p>如上代码中m为5</p>
<p>Lua是动态类型语言，声明时不要类型定义，赋值什么类型变量就是什么类型。使用 <strong>type（）</strong> 函数可以获取变量的类型信息。</p>
<h2 id="变量的类型"><a href="#变量的类型" class="headerlink" title="变量的类型"></a>变量的类型</h2><p>Lua有 nil、 boolean、 number、 string、 userdata、 function、 thread 和 table共计8种变量类型。</p>
<ol>
<li>nil型只有一个值，就是nil，用于表示无效值。</li>
<li>boolean 有false和true两种值。Lua中所有的值都可以作为条件，只有 <strong>false和nil</strong> 视为假，其余的均视为真，如数字0和空字符串。</li>
<li>number就是实数</li>
<li><p>string 就是字符串,lua的string可以包含任何数值字符，包括嵌入的0。例：</p>
 <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">m =&#34;979899&#34;</div><div class="line">print(m)       -----&gt;abc</div><div class="line">print(&#34;