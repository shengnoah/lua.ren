---
layout: post
title: Lua 
tags: [lua文章]
categories: [topic]
---
<h2 id="Lua-字符串操作"><a href="#Lua-字符串操作" class="headerlink" title="Lua 字符串操作"></a>Lua 字符串操作</h2><table>
<thead>
<tr>
<th align="center">函数</th>
<th align="left">功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">string.upper(argument)</td>
<td align="left">字符串全部转为大写字母</td>
</tr>
<tr>
<td align="center">string.lower(argument)</td>
<td align="left">字符串全部转为小写字母</td>
</tr>
<tr>
<td align="center">string.gsub(mainString,findString,replaceString,num)</td>
<td align="left">字符串替换</td>
</tr>
<tr>
<td align="center">string.find (str, substr, [init, [end]])</td>
<td align="left">字符串查找</td>
</tr>
<tr>
<td align="center">string.reverse(arg)</td>
<td align="left">字符串反转</td>
</tr>
<tr>
<td align="center">string.format(…)</td>
<td align="left">格式化字符串</td>
</tr>
<tr>
<td align="center">string.char(arg)</td>
<td align="left">将整型数组转成字符并连接</td>
</tr>
<tr>
<td align="center">string.byte(arg[,int])</td>
<td align="left">转换字符为整数值</td>
</tr>
<tr>
<td align="center">string.len(arg)</td>
<td align="left">计算字符串长度</td>
</tr>
<tr>
<td align="center">string.rep(string, n)</td>
<td align="left">返回字符串string的n个拷贝</td>
</tr>
<tr>
<td align="center">..</td>
<td align="left">字符串连接</td>
</tr>
</tbody></table>
<h2 id="字符串操作示例"><a href="#字符串操作示例" class="headerlink" title="字符串操作示例"></a>字符串操作示例</h2><p>有字符串:</p>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/></pre></td><td class="code"><pre><span class="line">str = <span class="string">&#34;AbAbAb&#34;</span>;</span><br/></pre></td></tr></tbody></table></figure>

<ol>
<li>upper</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">upper</span>(str));</span><br/><span class="line"></span><br/><span class="line"><span class="comment">-- ABABAB</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="2">
<li>lower</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">lower</span>(str));</span><br/><span class="line"></span><br/><span class="line"><span class="comment">-- ababab</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="3">
<li>gsub</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">gsub</span>(str, <span class="string">&#34;Ab&#34;</span>, <span class="string">&#34;aB&#34;</span>));</span><br/><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">gsub</span>(str, <span class="string">&#34;Ab&#34;</span>, <span class="string">&#34;aB&#34;</span>, <span class="number">2</span>));</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- aBaBaB 3</span></span><br/><span class="line"><span class="comment">-- aBaBAb 2</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="4">
<li>find</li>
</ol>
<p>第四个可选参数默认为flase，传入参数true表示关闭模式匹配，所以函数只做简单的查找子串的操作。</p>
<p><a href="https://www.jianshu.com/p/3e91b63602aa" target="_blank" rel="noopener noreferrer">简书文章：Lua string.find()</a></p>
<ol start="5">
<li>reverse</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">reverse</span>(str));</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- bAbAbA</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="6">
<li>format</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&#34;emmm %s&#34;</span>, str));</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- emmm AbAbAb</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="7">
<li>char</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">char</span>(<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>));</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- abc</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="8">
<li>byte</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&#34;abc&#34;</span>));</span><br/><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&#34;abc&#34;</span>, <span class="number">2</span>));</span><br/><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&#34;abc&#34;</span>, <span class="number">1</span>, <span class="number">3</span>));</span><br/><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&#34;abc&#34;</span>, <span class="number">1</span>, <span class="number">4</span>));</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- 97</span></span><br/><span class="line"><span class="comment">-- 98</span></span><br/><span class="line"><span class="comment">-- 97 98 99</span></span><br/><span class="line"><span class="comment">-- 97 98 99</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="9">
<li>len</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">len</span>(str));</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- 6</span></span><br/></pre></td></tr></tbody></table></figure>

<ol start="10">
<li>连接符</li>
</ol>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#34;abc&#34;</span> .. <span class="string">&#34;ABC&#34;</span>);</span><br/><span class="line"><span class="comment">-- 输出</span></span><br/><span class="line"><span class="comment">-- abcABC</span></span><br/></pre></td></tr></tbody></table></figure>