---
layout: post
title: 应(luan)有(qi)尽(ba)有(zao) 
tags: [lua文章]
categories: [topic]
---
<p>记录一些看到的有用的知识<br/></p>
<h3 id="金钱格式化"><a href="#金钱格式化" class="headerlink" title="金钱格式化"></a>金钱格式化</h3><p>用正则魔法实现：<br/></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> test1 = <span class="string">&#39;1234567890&#39;</span></div><div class="line"><span class="keyword">var</span> format = test1.replace(<span class="regexp">/B(?=(d{3})+(?!d))/g</span>, <span class="string">&#39;,&#39;</span>)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(format) </div></pre></td></tr></tbody></table></figure><p></p>
<p>非正则的优雅实现：<br/></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">function</span> (<span class="params">str</span>) </span>{</div><div class="line">       <span class="keyword">return</span> str.split(<span class="string">&#39;&#39;</span>).reverse().reduce(<span class="function">(<span class="params">prev, next, index</span>) =&gt;</span> {</div><div class="line">            <span class="keyword">return</span> ((index % <span class="number">3</span>) ? next : (next + <span class="string">&#39;,&#39;</span>)) + prev</div><div class="line">       })</div><div class="line">}</div><div class="line"><span class="built_in">console</span>.log(formatCash(<span class="string">&#39;1234567890&#39;</span>)) </div></pre></td></tr></tbody></table></figure><p></p>
<p>一句话实现：<br/></p><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="number">23333333.99</span>).toLocaleString(<span class="string">&#39;en-US&#39;</span>) <span class="comment">// 23,333,333.99</span></div></pre></td></tr></tbody></table></figure><p></p>