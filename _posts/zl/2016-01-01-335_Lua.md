---
layout: post
title: Lua 
tags: [lua文章]
categories: [topic]
---
<p>  Lua函数定义格式：</p>
<pre><code>  optional_function_scope function function_name( argument1, argument2, argument3..., argumentn)
  function_body
  return result_params_comma_separated
  end
说明：
1）optional_function_scope: 该参数是可选的制定函数是全局函数还是局部函数，未设置该参数默认为全局函数，如果你需要设置函数为局部函数需要使用关键字 local
2) function_name: 指定函数名称
3) argument1, argument2, argument3..., argumentn: 函数参数，多个参数以逗号隔开，函数也可以不带参数
4) function_body: 函数体，函数中需要执行的代码语句块。
5) result_params_comma_separated: 函数返回值，Lua语言函数可以返回多个值，每个值以逗号隔开。
</code></pre><p>Lua 中我们可以将函数作为参数传递给函数</p>
<p>多返回值<br/>   Lua函数可以返回多个结果值，比如string.find，其返回匹配串”开始和结束的下标”（如果不存在匹配串返回nil）。</p>
<pre><code>eg:
&gt; s, e = string.find(&#34;www.runoob.com&#34;, &#34;runoob&#34;)
&gt; print(s, e)
5    10
</code></pre><p>可变参数<br/>   Lua 函数可以接受可变数目的参数，和 C 语言类似，在函数参数列表中使用三点 … 表示函数有可变的参数。</p>
<p>  通常在遍历变长参数的时候只需要使用 {…}，然而变长参数可能会包含一些 nil，那么就可以用 select 函数来访问变长参数了：select(‘#’, …) 或者 select(n, …)<br/>select(‘#’, …) 返回可变参数的长度<br/>select(n, …) 用于访问 n 到 select(‘#’,…) 的参数<br/>调用select时，必须传入一个固定实参selector(选择开关)和一系列变长参数。如果selector为数字n,那么select返回它的第n个可变实参，否则只能为字符串”#”,这样select会返回变长参数的总数</p>
<pre><code>eg：
do
function foo(...)
for i = 1, select(&#39;#&#39;, ...) do  --&gt;获取参数总数
local arg = select(i, ...); --&gt;读取参数
print(&#34;arg&#34;, arg);
end
end

foo(1, 2, 3, 4);
end
</code></pre>