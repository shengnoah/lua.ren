---
layout: post
title: lua 基础知识学习总结 
tags: [lua文章]
categories: [topic]
---
<ul id="markdown-toc">
  <li><a href="#一lua-基本语法" id="markdown-toc-一lua-基本语法">一、lua 基本语法</a></li>
  <li><a href="#二lua-数据类型及操作" id="markdown-toc-二lua-数据类型及操作">二、lua 数据类型及操作</a></li>
</ul>

<blockquote>
  <p>lua 学习总结文档</p>
</blockquote>

<h2 id="一lua-基本语法">一、lua 基本语法</h2>

<h2 id="二lua-数据类型及操作">二、lua 数据类型及操作</h2>

<p>lua 是动态类型语言，变量无需声明定义，可以直接进行赋值操作。主要包含如下表格中的数据类型：</p>

<blockquote>
  <ul>
    <li><code class="language-plaintext highlighter-rouge">nil</code>：表示一个无效值</li>
    <li><code class="language-plaintext highlighter-rouge">boolean</code>：包含两个值：false 和 true。</li>
    <li><code class="language-plaintext highlighter-rouge">number</code>：表示双精度类型的实浮点数</li>
    <li><code class="language-plaintext highlighter-rouge">string</code>：字符串由一对双引号或单引号来表示</li>
    <li><code class="language-plaintext highlighter-rouge">function</code>：由 C 或 Lua 编写的函数</li>
    <li><code class="language-plaintext highlighter-rouge">userdata</code>：表示任意存储在变量中的 C 数据结构</li>
    <li><code class="language-plaintext highlighter-rouge">thread</code>：表示执行的独立线路，用于执行协同程序</li>
    <li><code class="language-plaintext highlighter-rouge">table</code>：Lua 中的表其实是一个”关联数组”，数组的索引可以是数字、字符串或表类型。</li>
  </ul>
</blockquote>

<ul>
  <li><code class="language-plaintext highlighter-rouge">nil</code> （空）</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">nil</code> 表示一种无效的值，它只有一个值 <code class="language-plaintext highlighter-rouge">nil</code>。</p>
<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="kc">nil</span><span class="p">))</span>  <span class="c1">-- nil</span>
</code></pre></div></div>

<p>给全局变量或者表中的变量赋值为 <code class="language-plaintext highlighter-rouge">nil</code>，相当于删除该变量。</p>
<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lua_global_var</span> <span class="o">=</span> <span class="kc">nil</span>    <span class="c1">-- 相当于删除lua_global_var全局变量</span>
<span class="n">lua_table</span> <span class="o">=</span> <span class="p">{</span> <span class="n">key1</span> <span class="o">=</span> <span class="s1">&#39;lua&#39;</span><span class="p">,</span> <span class="n">key2</span> <span class="o">=</span> <span class="s1">&#39;lang&#39;</span> <span class="p">}</span>
<span class="n">lua_table</span><span class="p">.</span><span class="n">key1</span> <span class="o">=</span> <span class="kc">nil</span>    <span class="c1">-- 删除了lua_table中的key1元素</span>
</code></pre></div></div>

<ul>
  <li>
    <p><strong><code class="language-plaintext highlighter-rouge">boolean</code>（布尔）</strong>。lua 中只有 <code class="language-plaintext highlighter-rouge">false</code> 和 <code class="language-plaintext highlighter-rouge">nil</code> 的布尔值为<code class="language-plaintext highlighter-rouge">假</code>。</p>
  </li>
  <li>number（数字）。<code class="language-plaintext highlighter-rouge">Lua</code> 默认只有一种 <code class="language-plaintext highlighter-rouge">number</code> 类型，以下几种写法都被看作是 <code class="language-plaintext highlighter-rouge">number</code> 类型
    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mf">2e+1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mf">2e-1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mf">8263692594256e-06</span><span class="p">))</span>
</code></pre></div>    </div>
  </li>
  <li>string（字符串）</li>
</ul>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">demo1</span> <span class="o">=</span> <span class="s2">&#34;hello world.&#34;</span>    <span class="c1">-- 单引号也行</span>
<span class="c1">-- 多行字符串</span>
<span class="n">demo2</span> <span class="o">=</span> <span class="s">[[
&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
    &lt;a href=&#34;https://www.linuxblogs.cn/&#34;&gt;程序员肖邦&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
]]</span>
</code></pre></div></div>

<p>几种字符串的操作</p>
<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="s2">&#34;a&#34;</span> <span class="o">..</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span>          <span class="c1">-- ab  字符串连接用..</span>
<span class="nb">print</span><span class="p">(</span><span class="o">#</span><span class="s2">&#34;linuxblogs.cn&#34;</span><span class="p">)</span>    <span class="c1">-- 13  字符串的长度 #(语法糖)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&#34;2&#34;</span> <span class="o">+</span> <span class="s2">&#34;6&#34;</span><span class="p">)</span>           <span class="c1">-- 8   对数字字符串运算时，lua 会尝试将字符串转换为1个数字</span>
</code></pre></div></div>
<p>字符串相关操作可参考: <a href="https://www.runoob.com/lua/lua-strings.html">lua 教程</a></p>

<ul>
  <li>table（表）</li>
</ul>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">table1</span> <span class="o">=</span> <span class="p">{}</span>   <span class="c1">-- 创建一个空的 table</span>
<span class="kd">local</span> <span class="n">table2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&#34;apple&#34;</span><span class="p">,</span> <span class="s2">&#34;pear&#34;</span><span class="p">}</span>  <span class="c1">-- 直接初始表</span>
<span class="nb">print</span><span class="p">(</span><span class="n">table2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">table2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>  <span class="c1">-- &#39;apple&#39; &#39;pear&#39;  lua 索引是从 1 开始的</span>
</code></pre></div></div>
<p>表的相关操作可参考: <a href="https://www.runoob.com/lua/lua-tables.html">lua 教程</a></p>