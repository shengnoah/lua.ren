---
layout: post
title: lua中执行shell 
tags: [lua文章]
categories: [topic]
---
**文章目录**

### 直接执行Shell

直接执行xxx指令

    
    
    os.execute('xxx')  
  
---  
  
### 以指定用户执行Shell

pi用户执行ls

    
    
    os.execute('su -s /bin/bash -c "ls" pi')  
  
---  
  
屏幕亮

    
    
    os.execute('su -s /bin/bash -c "xset dpms force on" pi')  
  
---  
  
屏幕灭

    
    
    os.execute('su -s /bin/bash -c "xset dpms force off" pi')  
  
---  
  
### 获取执行结果

获取ls执行结果

    
    
    local t = io.popen('ls')
    
    local s = t:read("*all")
    
    t:close()  
  
---