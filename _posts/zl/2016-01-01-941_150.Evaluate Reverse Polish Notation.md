---
layout: post
title: 150.Evaluate Reverse Polish Notation 
tags: [lua文章]
categories: [topic]
---
<blockquote>
<p>Evaluate the value of an arithmetic expression in Reverse Polish Notation.<br/>Valid operators are +, -, *, /. Each operand may be an integer or another expression.</p>
</blockquote>
<h2 id="思路分析">思路分析</h2>
<p>  逆波兰表示法，又称为后缀表示法，是一种不需要括号的一种四则运算表示法。比如：9 3 1 - 3 * + 10 2 / + ，就是一种后缀表示法。计算方法就使用栈，遇到数字就入栈，遇到符号就弹出栈顶的两个数字并将这两个数字的计算结果压入栈中。</p>
<h2 id="实现细节">实现细节</h2>
<ol type="1">
<li>字符串转整型函数<code>stoi()</code></li>
<li>整型函数转字符串<code>to_string()</code></li>
</ol>
<h2 id="代码实现">代码实现</h2>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/><span class="line">24</span><br/><span class="line">25</span><br/></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span>  {</span></span><br/><span class="line"><span class="keyword">public</span>:</span><br/><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">evalRPN</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;&amp; tokens)</span> </span>{</span><br/><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; stk;</span><br/><span class="line">        <span class="keyword">int</span> number;</span><br/><span class="line">        <span class="built_in">string</span> symbols = <span class="string">&#34;+-*/&#34;</span>;</span><br/><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> token: tokens){</span><br/><span class="line">            <span class="keyword">if</span>(symbols.find(token) != <span class="built_in">string</span>::npos){</span><br/><span class="line">                <span class="keyword">int</span> num2 = stk.top();</span><br/><span class="line">                stk.pop();</span><br/><span class="line">                <span class="keyword">int</span> num1 = stk.top();</span><br/><span class="line">                stk.pop();</span><br/><span class="line">                <span class="keyword">if</span>(token == <span class="string">&#34;+&#34;</span>) stk.push(num1+num2);</span><br/><span class="line">                <span class="keyword">if</span>(token == <span class="string">&#34;-&#34;</span>) stk.push(num1-num2);</span><br/><span class="line">                <span class="keyword">if</span>(token == <span class="string">&#34;*&#34;</span>) stk.push(num1*num2);</span><br/><span class="line">                <span class="keyword">if</span>(token == <span class="string">&#34;/&#34;</span>) stk.push(num1/num2);</span><br/><span class="line">            }</span><br/><span class="line">            <span class="keyword">else</span>{</span><br/><span class="line">                number = stoi(token);</span><br/><span class="line">                stk.push(number);</span><br/><span class="line">            }</span><br/><span class="line">        }</span><br/><span class="line">        <span class="keyword">return</span> stk.top();</span><br/><span class="line">    }</span><br/><span class="line">};</span><br/></pre></td></tr></tbody></table></figure>