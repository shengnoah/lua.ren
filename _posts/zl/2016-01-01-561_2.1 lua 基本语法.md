---
layout: post
title: 2.1 lua 基本语法 
tags: [lua文章]
categories: [topic]
---
<h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>C语言之后大多数讲解语言的书籍都会以打印<code>hello world</code>来开始。那么，如何使用lua 打印<code>hello world</code>呢？</p>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#34;hello world&#34;</span>)</span><br/></pre></td></tr></tbody></table></figure>
<p>和python、golang等语言类似，执行这条语句有两种方式：</p>
<ol>
<li>交互方式尴尬</li>
<li>执行lua脚本文件的方式</li>
</ol>
<h3 id="交互方式"><a href="#交互方式" class="headerlink" title="交互方式"></a>交互方式</h3><p>首先，在终端输入<code>lua</code>，进入交互模式</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line">[work@fanruo ~]$ lua</span><br/><span class="line">Lua 5.1.4  Copyright (C) 1994-2008 Lua.org, PUC-Rio</span><br/><span class="line"></span><br/></pre></td></tr></tbody></table></figure>
<p>输入<code>lua</code>后会显示一行信息，包括版本、版权信息等，随后是提示符。在提示符后输入<code>print(&#34;hello world&#34;)</code> 回车，就会打印<code>hello world</code>。</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/></pre></td><td class="code"><pre><span class="line"> print(&#34;hello world&#34;)</span><br/><span class="line">hello world</span><br/><span class="line"></span><br/></pre></td></tr></tbody></table></figure>
<h3 id="执行lua脚本文件方式"><a href="#执行lua脚本文件方式" class="headerlink" title="执行lua脚本文件方式"></a>执行lua脚本文件方式</h3><p>将上述语句保存为<code>hello_world.lua</code>文件：</p>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/></pre></td><td class="code"><pre><span class="line">#!/usr/bin/lua</span><br/><span class="line"><span class="built_in">print</span>(<span class="string">&#34;hello world&#34;</span>)</span><br/></pre></td></tr></tbody></table></figure>
<p>在命令输入如下命令：<br/></p><figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/></pre></td><td class="code"><pre><span class="line">[work@fanruo ~]$ lua hello_world.lua</span><br/><span class="line">hello world</span><br/></pre></td></tr></tbody></table></figure><p></p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><ol>
<li><p>单行注释</p>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#34;hello world&#34;</span>)</span><br/><span class="line"></span><br/></pre></td></tr></tbody></table></figure>
</li>
<li><p>多行注释</p>
<figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#34;hello world&#34;</span>)</span><br/><span class="line"><span class="comment">--[[</span></span><br/><span class="line"><span class="comment">多</span></span><br/><span class="line"><span class="comment">行</span></span><br/><span class="line"><span class="comment">注</span></span><br/><span class="line"><span class="comment">释</span></span><br/><span class="line"><span class="comment">--]]</span></span><br/></pre></td></tr></tbody></table></figure>
</li>
</ol>
<p><code>lua</code>的多行注释有点像<code>html</code>的多行注释。</p>
<h2 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h2><p><code>lua</code>的标识符和<code>c/c++</code>等语言类似：</p>
<ol>
<li>以下划线（_）和字母（a-zA-Z）开头；</li>
<li>后续加0个或者多个下划线(_)、字母（a-zA-Z）和数字（0-9）；</li>
<li>最好不要使用下划线加大写字母的标示符，因为Lua的保留字也是这样的。</li>
<li>不允许使用特殊字符如 @, $, 和 % 来定义标示符；</li>
<li>Lua 是一个区分大小写的编程语言。</li>
</ol>
<p><strong>注意：</strong>事实上，在编程时，即使使用的语言区分大小写也不建议使用大小写来区分标识符。</p>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><figure class="highlight lua"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/></pre></td><td class="code"><pre><span class="line"><span class="keyword">and</span> <span class="keyword">break</span> <span class="keyword">do</span> <span class="keyword">else</span> <span class="keyword">elseif</span></span><br/><span class="line"><span class="keyword">end</span> <span class="literal">false</span> <span class="keyword">for</span> <span class="function"><span class="keyword">function</span> </span></span><br/><span class="line"><span class="function"><span class="title">in</span> <span class="title">local</span> <span class="title">nil</span> <span class="title">not</span> <span class="title">or</span></span></span><br/><span class="line"><span class="function"><span class="title">repeat</span> <span class="title">return</span> <span class="title">then</span> <span class="title">true</span> <span class="title">until</span></span></span><br/><span class="line"><span class="function"><span class="title">while</span></span></span><br/></pre></td></tr></tbody></table></figure>