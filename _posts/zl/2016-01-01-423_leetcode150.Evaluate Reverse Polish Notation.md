---
layout: post
title: leetcode150.Evaluate Reverse Polish Notation 
tags: [lua文章]
categories: [topic]
---
<h2 id="题目要求"><a href="#题目要求" class="headerlink" title="题目要求"></a>题目要求</h2><pre><code>Evaluate the value of an arithmetic expression in Reverse Polish Notation.

Valid operators are +, -, *, /. Each operand may be an integer or another expression.

Some examples:
  [&#34;2&#34;, &#34;1&#34;, &#34;+&#34;, &#34;3&#34;, &#34;*&#34;] -&gt; ((2 + 1) * 3) -&gt; 9
  [&#34;4&#34;, &#34;13&#34;, &#34;5&#34;, &#34;/&#34;, &#34;+&#34;] -&gt; (4 + (13 / 5)) -&gt; 6
</code></pre><p>计算后缀表达式。我们一般看到的数学表达式就是中缀表达式，也就是将符号放在两个数字之间。后缀表达式也就是将运算符放在相应数字的后面。后缀表达式相当于树中的后序遍历。<br/></p>
<h2 id="思路一：栈"><a href="#思路一：栈" class="headerlink" title="思路一：栈"></a>思路一：栈</h2><p>当我们遇到数字时就将数字压入栈中，如果遇到操作符就将栈顶的两个数字弹出，并将其根据操作符计算结构并重新压入栈中。栈中剩下的最后的值就是我们的结果。<br/></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/><span class="line">24</span><br/><span class="line">25</span><br/></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="params">(String[] tokens)</span> </span>{</span><br/><span class="line">    LinkedList&lt;Integer&gt; stack = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br/><span class="line">    <span class="keyword">for</span>(String token : tokens){</span><br/><span class="line">        <span class="keyword">if</span>(token.equals(<span class="string">&#34;+&#34;</span>)){</span><br/><span class="line">            <span class="keyword">int</span> operand1 = stack.pop();</span><br/><span class="line">            <span class="keyword">int</span> operand2 = stack.pop();</span><br/><span class="line">            stack.push(operand2 + operand1);</span><br/><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(token.equals(<span class="string">&#34;-&#34;</span>)){</span><br/><span class="line">            <span class="keyword">int</span> operand1 = stack.pop();</span><br/><span class="line">            <span class="keyword">int</span> operand2 = stack.pop();</span><br/><span class="line">            stack.push(operand2 - operand1);</span><br/><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(token.equals(<span class="string">&#34;*&#34;</span>)){</span><br/><span class="line">            <span class="keyword">int</span> operand1 = stack.pop();</span><br/><span class="line">            <span class="keyword">int</span> operand2 = stack.pop();</span><br/><span class="line">            stack.push(operand2 * operand1);</span><br/><span class="line">        }<span class="keyword">else</span> <span class="keyword">if</span>(token.equals(<span class="string">&#34;/&#34;</span>)){</span><br/><span class="line">            <span class="keyword">int</span> operand1 = stack.pop();</span><br/><span class="line">            <span class="keyword">int</span> operand2 = stack.pop();</span><br/><span class="line">            stack.push(operand2 / operand1);</span><br/><span class="line">        }<span class="keyword">else</span>{</span><br/><span class="line">            stack.push(Integer.valueOf(token));</span><br/><span class="line">        }</span><br/><span class="line">    }</span><br/><span class="line">    <span class="keyword">return</span> stack.pop();</span><br/><span class="line">}</span><br/></pre></td></tr></tbody></table></figure><p></p>
<h2 id="思路二：递归"><a href="#思路二：递归" class="headerlink" title="思路二：递归"></a>思路二：递归</h2><p>从后缀表达式的末尾开始递归获取操作符对应的两个操作符。通过index获得对应位置的操作符。如果对应的还是操作符，则继续递归往前计算。<br/></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br/><span class="line">2</span><br/><span class="line">3</span><br/><span class="line">4</span><br/><span class="line">5</span><br/><span class="line">6</span><br/><span class="line">7</span><br/><span class="line">8</span><br/><span class="line">9</span><br/><span class="line">10</span><br/><span class="line">11</span><br/><span class="line">12</span><br/><span class="line">13</span><br/><span class="line">14</span><br/><span class="line">15</span><br/><span class="line">16</span><br/><span class="line">17</span><br/><span class="line">18</span><br/><span class="line">19</span><br/><span class="line">20</span><br/><span class="line">21</span><br/><span class="line">22</span><br/><span class="line">23</span><br/><span class="line">24</span><br/><span class="line">25</span><br/><span class="line">26</span><br/><span class="line">27</span><br/><span class="line">28</span><br/><span class="line">29</span><br/></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> index;</span><br/><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">evalRPN2</span><span class="params">(String[] tokens)</span></span>{</span><br/><span class="line">    index = tokens.length-<span class="number">1</span>;</span><br/><span class="line">    <span class="keyword">return</span> recursive(tokens);</span><br/><span class="line">} </span><br/><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">recursive</span><span class="params">(String[] tokens)</span></span>{</span><br/><span class="line">    String current = tokens[index--];</span><br/><span class="line">    <span class="keyword">int</span> operand1, operand2;</span><br/><span class="line">    <span class="keyword">switch</span>(current){</span><br/><span class="line">    <span class="keyword">case</span> <span class="string">&#34;+&#34;</span> : </span><br/><span class="line">        operand1 = recursive(tokens);</span><br/><span class="line">        operand2 = recursive(tokens);</span><br/><span class="line">        <span class="keyword">return</span> operand1 + operand2;</span><br/><span class="line">    <span class="keyword">case</span> <span class="string">&#34;-&#34;</span> :</span><br/><span class="line">        operand1 = recursive(tokens);</span><br/><span class="line">        operand2 = recursive(tokens);</span><br/><span class="line">        <span class="keyword">return</span> operand2 - operand1;</span><br/><span class="line">    <span class="keyword">case</span> <span class="string">&#34;*&#34;</span> :</span><br/><span class="line">        operand1 = recursive(tokens);</span><br/><span class="line">        operand2 = recursive(tokens);</span><br/><span class="line">        <span class="keyword">return</span> operand2 * operand1;</span><br/><span class="line">    <span class="keyword">case</span> <span class="string">&#34;/&#34;</span> :</span><br/><span class="line">        operand1 = recursive(tokens);</span><br/><span class="line">        operand2 = recursive(tokens);</span><br/><span class="line">        <span class="keyword">return</span> operand2 / operand1;</span><br/><span class="line">    <span class="keyword">default</span>:</span><br/><span class="line">        <span class="keyword">return</span> Integer.valueOf(current);</span><br/><span class="line">    }</span><br/><span class="line">}</span><br/></pre></td></tr></tbody></table></figure><p></p>