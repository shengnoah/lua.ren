---
layout: post
title: lua 基础知识学习总结 
tags: [lua文章]
categories: [topic]
---

        <ul id="markdown-toc">
  <li><a href="https://www.linuxblogs.cn/#%E4%B8%80lua-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" id="markdown-toc-一lua-基本语法">一、lua 基本语法</a></li>
  <li><a href="https://www.linuxblogs.cn/#%E4%BA%8Clua-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8F%8A%E6%93%8D%E4%BD%9C" id="markdown-toc-二lua-数据类型及操作">二、lua 数据类型及操作</a></li>
</ul>

<blockquote>
  <p>lua 学习总结文档</p>
</blockquote>

<h2 id="一lua-基本语法">一、lua 基本语法</h2>

<h2 id="二lua-数据类型及操作">二、lua 数据类型及操作</h2>

<p>lua 是动态类型语言，变量无需声明定义，可以直接进行赋值操作。主要包含如下表格中的数据类型：</p>



<ul>
  <li><code class="highlighter-rouge">nil</code> （空）</li>
</ul>

<p><code class="highlighter-rouge">nil</code> 表示一种无效的值，它只有一个值 <code class="highlighter-rouge">nil</code>。</p>
<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="kc">nil</span><span class="p">))</span>  <span class="c1">-- nil</span>
</code></pre></div></div>

<p>给全局变量或者表中的变量赋值为 <code class="highlighter-rouge">nil</code>，相当于删除该变量。</p>
<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lua_global_var</span> <span class="o">=</span> <span class="kc">nil</span>    <span class="c1">-- 相当于删除lua_global_var全局变量</span>
<span class="n">lua_table</span> <span class="o">=</span> <span class="p">{</span> <span class="n">key1</span> <span class="o">=</span> <span class="s1">'lua'</span><span class="p">,</span> <span class="n">key2</span> <span class="o">=</span> <span class="s1">'lang'</span> <span class="p">}</span>
<span class="n">lua_table</span><span class="p">.</span><span class="n">key1</span> <span class="o">=</span> <span class="kc">nil</span>    <span class="c1">-- 删除了lua_table中的key1元素</span>
</code></pre></div></div>

<ul>
  <li>
    <p><strong><code class="highlighter-rouge">boolean</code>（布尔）</strong>。lua 中只有 <code class="highlighter-rouge">false</code> 和 <code class="highlighter-rouge">nil</code> 的布尔值为<code class="highlighter-rouge">假</code>。</p>
  </li>
  <li>number（数字）。<code class="highlighter-rouge">Lua</code> 默认只有一种 <code class="highlighter-rouge">number</code> 类型，以下几种写法都被看作是 <code class="highlighter-rouge">number</code> 类型
    <div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">2</span><span class="p">.</span><span class="mi">2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mf">2e+1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mf">2e-1</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="mi">7</span><span class="p">.</span><span class="mf">8263692594256e-06</span><span class="p">))</span>
</code></pre></div>    </div>
  </li>
  <li>string（字符串）</li>
</ul>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">demo1</span> <span class="o">=</span> <span class="s2">"hello world."</span>    <span class="c1">-- 单引号也行</span>
<span class="c1">-- 多行字符串</span>
<span class="n">demo2</span> <span class="o">=</span> <span class="s">[[
&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
    &lt;a href="https://www.linuxblogs.cn/"&gt;进程员肖邦&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
]]</span>
</code></pre></div></div>

<p>几种字符串的操作</p>
<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">print</span><span class="p">(</span><span class="s2">"a"</span> <span class="o">..</span> <span class="s1">'b'</span><span class="p">)</span>          <span class="c1">-- ab  字符串连接用..</span>
<span class="nb">print</span><span class="p">(</span><span class="o">#</span><span class="s2">"linuxblogs.cn"</span><span class="p">)</span>    <span class="c1">-- 13  字符串的长度 #(语法糖)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"2"</span> <span class="o">+</span> <span class="s2">"6"</span><span class="p">)</span>           <span class="c1">-- 8   对数字字符串运算时，lua 会尝试将字符串转换为1个数字</span>
</code></pre></div></div>
<p>字符串相关操作可参考: <a href="https://www.runoob.com/lua/lua-strings.html">lua 教程</a></p>

<ul>
  <li>table（表）</li>
</ul>

<div class="language-lua highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">local</span> <span class="n">table1</span> <span class="o">=</span> <span class="p">{}</span>   <span class="c1">-- 创建一个空的 table</span>
<span class="kd">local</span> <span class="n">table2</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"apple"</span><span class="p">,</span> <span class="s2">"pear"</span><span class="p">}</span>  <span class="c1">-- 直接初始表</span>
<span class="nb">print</span><span class="p">(</span><span class="n">table2</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">table2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>  <span class="c1">-- 'apple' 'pear'  lua 索引是从 1 开始的</span>
</code></pre></div></div>
<p>表的相关操作可参考: <a href="https://www.runoob.com/lua/lua-tables.html">lua 教程</a></p>