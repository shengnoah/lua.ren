---
layout: post
title: lua中table的单继承与多继承 
tags: [lua文章]
categories: [topic]
---
<h2 id="Table单继承（元表）"><a href="#Table单继承（元表）" class="headerlink" title="Table单继承（元表）"></a>Table单继承（元表）</h2><pre><code>account = {}
function account:new( o )
    o = o or {}
    setmetatable(o,self)
    self.__index = self
    return o
    -- body
end

function account:show( v )
    print(self.bb..v)
    -- body
end
a = account:new({bb = &#39;aa&#39;})
a:show(&#39;bb&#39;) -- aabb
</code></pre><h2 id="Table多继承-不常用"><a href="#Table多继承-不常用" class="headerlink" title="Table多继承(不常用)"></a>Table多继承(不常用)</h2><pre><code>local function search(k,plist )
    -- body
    for i=1,#plist do
        local  v = plist[i][k]
        if v then
            return v
        end    
    end
end

function createClass( ... )
    -- body
    local c = {}
    local parent = {...}
    setmetatable(c,{__index = function ( t,k )
        -- body
        return search(k,parent)
    end})

    c.__index = c
    function c:new(o )
        -- body
        o = o or {}
        setmetatable(o,c)
        return o
    end
end    
</code></pre>