---
layout: post
title: Lua C API 
tags: [lua文章]
categories: [topic]
---
  * 云风Blog：[Lua C API 的正确用法](http://blog.codingnow.com/2015/05/lua_c_api.html)
  * C读取和调用Lua文件的库：`lua.h, lauxlib.h, lualib.h`
  * 包括：读写Lua全局变量的函数、调用Lua函数的函数、运行Lua代码片段的函数、注册C函数然后可以在Lua中被调用的函数
  * C和Lua之间的数据交换，通过对栈上的值进行操作。栈的使用解决：Lua会自动进行垃圾回收，而C要求显示的分配内存单元；Lua中的动态类型和C的静态类型。
  * **压入元素** ：

    
    
    void lua_pushnil(lua_State *L);                                     //插入空值
    void lua_pushboolean(lua_State *L, int bool);                       //插入布尔值
    void lua_pushnumber(lua_State *L, double n);                        //插入double
    void lua_pushlstring(lua_State *L, const char* s, size_t length);   //插入任意字符串
    void lua_pushstring(lua_State *L, const char* s);                   //插入带'